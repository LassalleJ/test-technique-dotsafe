{% extends 'base.html.twig' %}

{% block title %}Hello HomeController!{% endblock %}

{% block body %}
    <h1 class="title text-center">Futures fermetures du pont à partir du {{ dateOfToday }}</h1>
    <div class="container d-flex justify-content-center p-2 col6">
        <div class="searchDateForm form-group">
            {{ form_start(dateForm) }}
            {{ form_row(dateForm) }}
            <button>Recherche</button>
            {{ form_end(dateForm) }}
        </div>
        <div class="searchBoatForm form-group shown" id="searchBoatForm">
            {{ form_start(boatForm) }}
            <div class="flex-column">
                {{ form_row(boatForm) }}
            </div>

            <button>Recherche</button>
            {{ form_end(boatForm) }}
        </div>
    </div>

    {% if not search is empty %}
        Résultats pour votre recherche : {{ search }}
        <a href="{{ path('app_index') }}">Remettre les filtres à zéro</a>
    {% endif %}

    <div class="container col-8 text-center reason-selector">
        <label class="toggle">
            <span class="toggle-label">Afficher uniquement les fermetures dûes à une maintenance</span>
            <input class="toggle-checkbox" id="toggle-listener" type="checkbox" checked>
            <div class="toggle-switch"></div>
            <span class="toggle-label">Afficher uniquement les fermetures dûes à un passage de bateau(x)</span>

        </label>
    </div>
    <div class="container">
        <table class="data-table table table-hover">
            <th class="col-3 text-center">Raison</th>
            <th class="col-3 text-center">Heure de fermeture du pont</th>
            <th class="col-3 text-center">Heure de réouverture du pont</th>

            {% for data in datas %}

                {% if data.reason is same as("MAINTENANCE") %}
                    <tr class="maintenanceReason hidden">
                        <td class="text-center">{{ data.reason }}</td>
                        <td class="text-center">{{ data.closureHour }}</td>
                        <td class="text-center">{{ data.reOpenHour }}</td>
                    </tr>

                {% endif %}
                {% if not data.reason is same as("MAINTENANCE") %}
                    <tr class="boatReason shown">
                        <td class="text-center">{{ data.reason }}</td>
                        <td class="text-center">{{ data.closureHour }}</td>
                        <td class="text-center">{{ data.reOpenHour }}</td>
                    </tr>
                {% endif %}


            {% endfor %}
        </table>
    </div>
{% endblock %}

